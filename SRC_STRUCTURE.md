# –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ —Å src –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è–º–∏

## üìÅ –ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
meshtasticback.taubetele.com/
‚îú‚îÄ‚îÄ src/                           # HTTP API —Å–µ—Ä–≤–∏—Å –∏—Å—Ö–æ–¥–Ω–∏–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ index.mjs                  # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª HTTP API
‚îÇ   ‚îú‚îÄ‚îÄ httpServer.mjs             # HTTP —Å–µ—Ä–≤–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ redisManager.mjs           # Redis –º–µ–Ω–µ–¥–∂–µ—Ä (—Ç–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ)
‚îÇ   ‚îú‚îÄ‚îÄ telegram.mjs               # Telegram –±–æ—Ç
‚îÇ   ‚îú‚îÄ‚îÄ utils.mjs                  # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ protobufDecoder.mjs        # –î–µ–∫–æ–¥–µ—Ä protobuf
‚îú‚îÄ‚îÄ mqtt-receiver/                 # MQTT Receiver —Å–µ—Ä–≤–∏—Å
‚îÇ   ‚îú‚îÄ‚îÄ src/                       # MQTT —Å–µ—Ä–≤–∏—Å –∏—Å—Ö–æ–¥–Ω–∏–∫–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.mjs              # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª MQTT Receiver
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ mqtt.mjs               # MQTT –º–µ–Ω–µ–¥–∂–µ—Ä
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ redisManager.mjs       # Redis –º–µ–Ω–µ–¥–∂–µ—Ä (—Ç–æ–ª—å–∫–æ –∑–∞–ø–∏—Å—å)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ utils.mjs              # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ protobufDecoder.mjs    # –î–µ–∫–æ–¥–µ—Ä protobuf
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile                 # Docker –¥–ª—è MQTT —Å–µ—Ä–≤–∏—Å–∞
‚îÇ   ‚îú‚îÄ‚îÄ package.json               # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ MQTT —Å–µ—Ä–≤–∏—Å–∞
‚îÇ   ‚îî‚îÄ‚îÄ index.mjs                  # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ (–∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç src/index.mjs)
‚îú‚îÄ‚îÄ index.mjs                      # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
‚îú‚îÄ‚îÄ config.mjs                     # –û–±—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ docker-compose.yml             # Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ Dockerfile                     # Docker –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
‚îú‚îÄ‚îÄ package.json                   # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
‚îú‚îÄ‚îÄ protobufs/                     # Protobuf —Å—Ö–µ–º—ã
‚îî‚îÄ‚îÄ ...                           # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
```

## üöÄ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

### –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –∫–æ–¥–∞

- **–ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ**: –ò—Å—Ö–æ–¥–Ω–∏–∫–∏ –≤ `src/`, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤ –∫–æ—Ä–Ω–µ
- **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å**: –ö–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å –∏–º–µ–µ—Ç —Å–≤–æ—é `src/` –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
- **–¢–æ—á–∫–∏ –≤—Ö–æ–¥–∞**: –ü—Ä–æ—Å—Ç—ã–µ —Ñ–∞–π–ª—ã –≤ –∫–æ—Ä–Ω–µ –∏–º–ø–æ—Ä—Ç–∏—Ä—É—é—Ç –∫–æ–¥ –∏–∑ `src/`

### –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

- **IDE –ø–æ–¥–¥–µ—Ä–∂–∫–∞**: –õ—É—á—à–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –∫–æ–¥—É
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –õ–µ–≥—á–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –º–æ–¥—É–ª–µ–π
- **–û—Ç–ª–∞–¥–∫–∞**: –ß–µ—Ç–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è debugging

### Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã

- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**: –ú–æ–∂–Ω–æ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: –õ—É—á—à–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ª–æ–µ–≤ Docker
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ú–µ–Ω—å—à–µ —Ñ–∞–π–ª–æ–≤ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ

## üìù –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ç–æ—á–∫–∞—Ö –≤—Ö–æ–¥–∞

### –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å (`/index.mjs`)

```javascript
// –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
import("./src/index.mjs");
```

### MQTT Receiver (`/mqtt-receiver/index.mjs`)

```javascript
// –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è MQTT Receiver —Å–µ—Ä–≤–∏—Å–∞
import("./src/index.mjs");
```

## üîß –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

```bash
# –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å
npm run dev                    # –ó–∞–ø—É—Å–∫–∞–µ—Ç src/index.mjs
node src/index.mjs             # –ü—Ä—è–º–æ–π –∑–∞–ø—É—Å–∫

# MQTT Receiver
cd mqtt-receiver
npm run dev                    # –ó–∞–ø—É—Å–∫–∞–µ—Ç src/index.mjs
node src/index.mjs             # –ü—Ä—è–º–æ–π –∑–∞–ø—É—Å–∫
```

### Docker

```bash
# –°–±–æ—Ä–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose build

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
docker-compose up mqtt-receiver
docker-compose up meshtasticback_taubetele_com_81
```

## üìÇ –°–æ–¥–µ—Ä–∂–∏–º–æ–µ src –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π

### `/src/` (HTTP API —Å–µ—Ä–≤–∏—Å)

| –§–∞–π–ª                  | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                     |
| --------------------- | ------------------------------ |
| `index.mjs`           | –ì–ª–∞–≤–Ω—ã–π –∫–ª–∞—Å—Å HTTP API —Å–µ—Ä–≤–∏—Å–∞ |
| `httpServer.mjs`      | Express HTTP —Å–µ—Ä–≤–µ—Ä            |
| `redisManager.mjs`    | –ß—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ Redis         |
| `telegram.mjs`        | Telegram –±–æ—Ç –ª–æ–≥–∏–∫–∞            |
| `utils.mjs`           | –û–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã                  |
| `protobufDecoder.mjs` | –î–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ protobuf         |

### `/mqtt-receiver/src/` (MQTT Receiver —Å–µ—Ä–≤–∏—Å)

| –§–∞–π–ª                  | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                     |
| --------------------- | ------------------------------ |
| `index.mjs`           | –ì–ª–∞–≤–Ω—ã–π –∫–ª–∞—Å—Å MQTT Receiver    |
| `mqtt.mjs`            | MQTT –∫–ª–∏–µ–Ω—Ç –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞        |
| `redisManager.mjs`    | –ó–∞–ø–∏—Å—å –¥–∞–Ω–Ω—ã—Ö –≤ Redis          |
| `utils.mjs`           | –û–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã (–∫–æ–ø–∏—è)          |
| `protobufDecoder.mjs` | –î–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ protobuf (–∫–æ–ø–∏—è) |

## üîÑ –ò–º–ø–æ—Ä—Ç—ã –º–µ–∂–¥—É —Ñ–∞–π–ª–∞–º–∏

### –í–Ω—É—Ç—Ä–∏ src –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π

```javascript
// –ò–º–ø–æ—Ä—Ç—ã –≤–Ω—É—Ç—Ä–∏ –æ–¥–Ω–æ–π src –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
import { RedisManager } from "./redisManager.mjs";
import { utils } from "./utils.mjs";
```

### –ò–∑ src –≤ –∫–æ—Ä–Ω–µ–≤—ã–µ —Ñ–∞–π–ª—ã

```javascript
// –ò–∑ src –≤ config.mjs –≤ –∫–æ—Ä–Ω–µ
import { config } from "../config.mjs";
import { config } from "../../config.mjs"; // –î–ª—è mqtt-receiver
```

## üê≥ Docker –∏–∑–º–µ–Ω–µ–Ω–∏—è

### Dockerfile (–æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å)

```dockerfile
# –°—Ç–∞—Ä—ã–π —Å–ø–æ—Å–æ–±
COPY . .

# –ù–æ–≤—ã–π —Å–ø–æ—Å–æ–±
COPY src/ ./src/
COPY config.mjs package.json ./
CMD ["node", "src/index.mjs"]
```

### Dockerfile (mqtt-receiver)

```dockerfile
COPY src/ ./src/
COPY *.json ./
COPY protobufs ./protobufs
CMD ["node", "src/index.mjs"]
```

## ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–∞–∫ –∂–µ

- **Docker Compose**: –í—Å–µ –∫–æ–º–∞–Ω–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- **API endpoints**: HTTP API –æ—Å—Ç–∞–µ—Ç—Å—è —Ç–µ–º –∂–µ
- **Telegram –±–æ—Ç**: –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –Ω–µ –∏–∑–º–µ–Ω–∏–ª—Å—è
- **MQTT –æ–±—Ä–∞–±–æ—Ç–∫–∞**: –õ–æ–≥–∏–∫–∞ –æ—Å—Ç–∞–ª–∞—Å—å –ø—Ä–µ–∂–Ω–µ–π
- **Redis –¥–∞–Ω–Ω—ã–µ**: –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å

## üîç –û—Ç–ª–∞–¥–∫–∞ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏

```bash
# –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã
docker-compose logs -f

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Å–µ—Ä–≤–∏—Å
docker-compose logs -f mqtt-receiver

# –ü–æ–∏—Å–∫ –ø–æ –ª–æ–≥–∞–º
docker-compose logs mqtt-receiver | grep "HTTP-API"
docker-compose logs mqtt-receiver | grep "MQTT-Receiver"
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∞–π–ª—ã –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
docker-compose exec mqtt-receiver ls -la src/
docker-compose exec meshtasticback_taubetele_com_81 ls -la src/
```

## üìã –ú–∏–≥—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞

- ‚úÖ –ò—Å—Ö–æ–¥–Ω–∏–∫–∏ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –≤ `src/` –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
- ‚úÖ –¢–æ—á–∫–∏ –≤—Ö–æ–¥–∞ —Å–æ–∑–¥–∞–Ω—ã –≤ –∫–æ—Ä–Ω–µ–≤—ã—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è—Ö
- ‚úÖ Dockerfile'—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã –¥–ª—è –Ω–æ–≤—ã—Ö –ø—É—Ç–µ–π
- ‚úÖ package.json –æ–±–Ω–æ–≤–ª–µ–Ω—ã –¥–ª—è –Ω–æ–≤—ã—Ö —Ç–æ—á–µ–∫ –≤—Ö–æ–¥–∞
- ‚úÖ –ò–º–ø–æ—Ä—Ç—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –¥–ª—è –Ω–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- ‚úÖ Docker Compose —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –Ω–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π

**–ù–æ–≤–∞—è src —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üéâ**
